<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SimVisionSystem (photon-lib API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.photonvision, class: SimVisionSystem">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.photonvision</a></div>
<h1 title="Class SimVisionSystem" class="title">Class SimVisionSystem</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.photonvision.SimVisionSystem</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">SimVisionSystem</span>
extends java.lang.Object</pre>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String,double,edu.wpi.first.math.geometry.Transform3d,double,int,int,double)">SimVisionSystem</a></span>&#8203;(java.lang.String&nbsp;camName,
double&nbsp;camDiagFOVDegrees,
edu.wpi.first.math.geometry.Transform3d&nbsp;robotToCamera,
double&nbsp;maxLEDRangeMeters,
int&nbsp;cameraResWidth,
int&nbsp;cameraResHeight,
double&nbsp;minTargetArea)</code></th>
<td class="colLast">
<div class="block">Create a simulated vision system involving a camera and coprocessor mounted on a mobile robot
 running PhotonVision, detecting one or more targets scattered around the field.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addSimVisionTarget(org.photonvision.SimVisionTarget)">addSimVisionTarget</a></span>&#8203;(<a href="SimVisionTarget.html" title="class in org.photonvision">SimVisionTarget</a>&nbsp;target)</code></th>
<td class="colLast">
<div class="block">Add a target on the field which your vision system is designed to detect.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addVisionTargets(edu.wpi.first.apriltag.AprilTagFieldLayout)">addVisionTargets</a></span>&#8203;(edu.wpi.first.apriltag.AprilTagFieldLayout&nbsp;tagLayout)</code></th>
<td class="colLast">
<div class="block">Adds all apriltags from the provided <code>AprilTagFieldLayout</code> as sim vision targets.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearVisionTargets()">clearVisionTargets</a></span>()</code></th>
<td class="colLast">
<div class="block">Clears all sim vision targets.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#moveCamera(edu.wpi.first.math.geometry.Transform3d)">moveCamera</a></span>&#8203;(edu.wpi.first.math.geometry.Transform3d&nbsp;newRobotToCamera)</code></th>
<td class="colLast">
<div class="block">Adjust the camera position relative to the robot.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processFrame(edu.wpi.first.math.geometry.Pose2d)">processFrame</a></span>&#8203;(edu.wpi.first.math.geometry.Pose2d&nbsp;robotPoseMeters)</code></th>
<td class="colLast">
<div class="block">Periodic update.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processFrame(edu.wpi.first.math.geometry.Pose3d)">processFrame</a></span>&#8203;(edu.wpi.first.math.geometry.Pose3d&nbsp;robotPoseMeters)</code></th>
<td class="colLast">
<div class="block">Periodic update.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(java.lang.String,double,edu.wpi.first.math.geometry.Transform3d,double,int,int,double)">SimVisionSystem</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">SimVisionSystem</span>&#8203;(<span class="arguments">java.lang.String&nbsp;camName,
double&nbsp;camDiagFOVDegrees,
edu.wpi.first.math.geometry.Transform3d&nbsp;robotToCamera,
double&nbsp;maxLEDRangeMeters,
int&nbsp;cameraResWidth,
int&nbsp;cameraResHeight,
double&nbsp;minTargetArea)</span></div>
<div class="block">Create a simulated vision system involving a camera and coprocessor mounted on a mobile robot
 running PhotonVision, detecting one or more targets scattered around the field. This assumes a
 fairly simple and distortion-less pinhole camera model.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>camName</code> - Name of the PhotonVision camera to create. Align it with the settings you use in
     the PhotonVision GUI.</dd>
<dd><code>camDiagFOVDegrees</code> - Diagonal Field of View of the camera used. Align it with the
     manufacturer specifications, and/or whatever is configured in the PhotonVision Setting
     page.</dd>
<dd><code>robotToCamera</code> - Transform to move from the center of the robot to the camera's mount
     position</dd>
<dd><code>maxLEDRangeMeters</code> - Maximum distance at which your camera can illuminate the target and
     make it visible. Set to 9000 or more if your vision system does not rely on LED's.</dd>
<dd><code>cameraResWidth</code> - Width of your camera's image sensor in pixels</dd>
<dd><code>cameraResHeight</code> - Height of your camera's image sensor in pixels</dd>
<dd><code>minTargetArea</code> - Minimum area that that the target should be before it's recognized as a
     target by the camera. Match this with your contour filtering settings in the PhotonVision
     GUI.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="addSimVisionTarget(org.photonvision.SimVisionTarget)">addSimVisionTarget</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">addSimVisionTarget</span>&#8203;(<span class="arguments"><a href="SimVisionTarget.html" title="class in org.photonvision">SimVisionTarget</a>&nbsp;target)</span></div>
<div class="block">Add a target on the field which your vision system is designed to detect. The PhotonCamera from
 this system will report the location of the robot relative to the subset of these targets which
 are visible from the given robot position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>target</code> - Target to add to the simulated field</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addVisionTargets(edu.wpi.first.apriltag.AprilTagFieldLayout)">addVisionTargets</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">addVisionTargets</span>&#8203;(<span class="arguments">edu.wpi.first.apriltag.AprilTagFieldLayout&nbsp;tagLayout)</span></div>
<div class="block">Adds all apriltags from the provided <code>AprilTagFieldLayout</code> as sim vision targets. The
 poses added will preserve the tag layout's alliance origin at the time of calling this method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tagLayout</code> - The field tag layout to get Apriltag poses and IDs from</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="clearVisionTargets()">clearVisionTargets</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">clearVisionTargets</span>()</div>
<div class="block">Clears all sim vision targets. This is useful for switching alliances and needing to repopulate
 the sim targets. NOTE: Old targets will still show on the Field2d unless overwritten by new
 targets with the same ID</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="moveCamera(edu.wpi.first.math.geometry.Transform3d)">moveCamera</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">moveCamera</span>&#8203;(<span class="arguments">edu.wpi.first.math.geometry.Transform3d&nbsp;newRobotToCamera)</span></div>
<div class="block">Adjust the camera position relative to the robot. Use this if your camera is on a gimbal or
 turret or some other mobile platform.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newRobotToCamera</code> - New Transform from the robot to the camera</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="processFrame(edu.wpi.first.math.geometry.Pose2d)">processFrame</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">processFrame</span>&#8203;(<span class="arguments">edu.wpi.first.math.geometry.Pose2d&nbsp;robotPoseMeters)</span></div>
<div class="block">Periodic update. Call this once per frame of image data you wish to process and send to
 NetworkTables</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>robotPoseMeters</code> - current pose of the robot on the field. Will be used to calculate which
     targets are actually in view, where they are at relative to the robot, and relevant
     PhotonVision parameters.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="processFrame(edu.wpi.first.math.geometry.Pose3d)">processFrame</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">processFrame</span>&#8203;(<span class="arguments">edu.wpi.first.math.geometry.Pose3d&nbsp;robotPoseMeters)</span></div>
<div class="block">Periodic update. Call this once per frame of image data you wish to process and send to
 NetworkTables</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>robotPoseMeters</code> - current pose of the robot in space. Will be used to calculate which
     targets are actually in view, where they are at relative to the robot, and relevant
     PhotonVision parameters.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
