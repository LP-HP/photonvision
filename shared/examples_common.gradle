task copyPhotonlib() {
    doFirst {
        // Assume publish to maven local has just be run. Kinda curst

        def vendorJsonSrc = new File("${rootDir}", "../photon-lib/build/generated/vendordeps/");
        def vendorJsonDst = new File("${projectDir}/vendordeps/");

        delete(fileTree(vendorJsonDst) {
            exclude '.gitignore'
        })

        println("Copying from ${vendorJsonSrc} to ${vendorJsonDst}")

        copy {
            from vendorJsonSrc
            into vendorJsonDst
        }
    }
    outputs.upToDateWhen { false }
}

wpi.maven.useDevelopment = true
wpi.versions.wpilibVersion = "2024.1.1-beta-3-43-g25b7dca"
